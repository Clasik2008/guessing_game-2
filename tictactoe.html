<!DOCTYPE html>
<html>
	<head>
		<title>Tic Tac Toe</title>
		<link type="text/css" rel="stylesheet" href="stylesheet.css" />
	</head>
	<body>
		<table>
			<tr>
				<td id="00"></td>
				<td id="01"></td>
				<td id="02"></td>
			</tr>
			<tr>
				<td id="10"></td>
				<td id="11"></td>
				<td id="12"></td>
			</tr>
			<tr>
				<td id="20"></td>
				<td id="21"></td>
				<td id="22"></td>
			</tr>
		</table>
	</body>
	<script>
		var playerO = {
			symbol: "O",
			number: 0
		}
		var playerX = {
			symbol: "X",
			number: 1
		}
		var players = [playerO, playerX];
		var board = {
			grid: [],
			init: function() {
				this.grid = [["","",""], ["","",""], ["","",""]];
			},
			display: function() {
				for (var i = 0; i < 3; i++) {
					for (var j = 0; j < 3; j++) {
						var cell = document.getElementById(String(i) + String(j));
						cell.textContent = this.grid[i][j];
					}
				}
			}
		}
		function checkWin(player) {
			var symbol = player.symbol;
			for (var i = 0; i < 3; i++) {
				//check horizontals
				if (board.grid[i][0] == symbol && board.grid[i][1] == symbol && board.grid[i][2]) {
					return player;
				}
				//check verticals
				if (board.grid[0][i] == symbol && board.grid[1][i] == symbol && board.grid[2][i] == symbol) {
					return player;
				}
			}
			//check diagonals
			if (board.grid[0][0] == symbol && board.grid[1][1] == symbol && board.grid[2][2] == symbol) {
				return player;
			}
			if (board.grid[0][2] == symbol && board.grid[1][1] == symbol && board.grid[2][0] == symbol) {
				return player;
			}
			return null;
		}
		function checkTie() {
			for (var i = 0; i < 3; i++) {
				for (var j = 0; j < 3; j++) {
					if (!board.grid[i][j]) return false;
				}
			}
			return true;
		}
		function turn(player) {
			// Player selects a cell:
			var choice = prompt(player.symbol + "'s turn. Please select a cell:\n1 2 3\n4 5 6\n7 8 9");
			var row = Math.floor((choice - 1)/ 3);
			var col = (choice - 1) % 3;

			// Update board:
			if (!board.grid[row][col]) {
				board.grid[row][col] = player.symbol;
			} else {
				alert("That cell is already occupied. Please select another.");
				turn(player);
			}

			// Display board:
			board.display();

			// Check if game is won:
			if (checkWin(player)) {
				alert(player.symbol + " wins!");
			} else if (checkTie()) {
				// Check if game is a tie:
				alert("The game is a tie.");
			} else {
				// Trigger next turn:
				turn(players[(player.number + 1) % 2]);
			}
		}
		
		// Play the game:
		board.init();
		turn(players[0]);
	</script>
</html>